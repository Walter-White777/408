# 指令系统

## 指令格式

op+addr

1.按地址的个数来分



2.I型、J型

- 操作码字段不能重复，否则会引起冲突，此外操作码全0部分已经被R型占有，因此I、J型指令总数就是2^6-1

**拓展操作码指令格式：**

op字段可变，



## 寻址方式

op+**寻址特征+A**（这种方式寻的是1个操作数的，实际指令中由于有多个操作数，因此**每个操作数字段（源操作数+目的操作数）**都分为寻址特征+形式地址）

EA:有效地址         A:形式地址（指令中的地址字段）

- 隐含寻址：ACC中的内容作为隐含的操作数

- 立即数寻址：地址字段给出立即数

- 直接寻址：EA=A

- 间接寻址：EA=MEM(A)

- 寄存器寻址：EA=Ri（即操作数存放在Ri中）

- 寄存器间接寻址：EA=(Ri)

- **相对寻址**：EA=(PC)+A  ；PC值的变化.A还需要乘以指令所占的字节数

- 基址寻址：EA=(BR)+A

BR面向操作系统，因此应用程序员无法管理其中的内容，但是可以由用户指定用哪个通用寄存器。其中内容保持不变，A可变，因此适合浮动程序（多道程序分配空间）

**注：内存中的地址是无符号数，形式地址可能是补码形式，要将形式地址进行转换后，再进行运算**

- 变址寻址：EA=(IX)+A

IX面向用户，可由用户指定和改变，A不变。因此适合循环程序（例如数组问题）

- 堆栈寻址





## 汇编





call：call指令保存调用之前的地址信息

ret：实现返回



算术和逻辑运算指令：运算的结果保存在第一个操作数中

## CISC和RISC

### 1.CISC



### 2.RISC

- 一定采用指令流水线，控制器以硬布线为主

- 只有Load/Store指令能访存

- 指令格式规整且定长

|                  | RISC                              | CISC      |
| ---------------- | --------------------------------- | --------- |
| 指令数和寻址种类 | 少                                | 多        |
| 控制器           | 硬布线                            | 微程序    |
| GPR数量          | 多                                | 少        |
| 指令执行         | 流水线技术，基本在一个cycle内完成 | 多个cycle |
| 编译优化         | 采用                              | 难以      |



## 汇编

### 1.编译器、汇编器、链路器



### 2.汇编语句