# 应用层

## 网络应用模型

### 1.C/S

- 应用：Web，FTP，远程登录，E-mail
- 客户机之间不直接通信，需要服务器作为中介
- 拓展性不佳

### 2.P2P

- 用户机之间可**直接共享**文档
- 本地内存会收到影响（由于还要给其它主机提供服务）

## DNS

- C/S模型，运行在UDP(port:53)

- 域名空间：三级域名+二级域名+顶级域名

- 域名服务器：1）根域名：知道所有顶级域名服务器的ip；本地域名服务器无法解析域名时，先找根域名

  ​					   2）顶级域名：

  ​					   3）权限域名：每台主机都需要在这登记；**总能够**将其管辖的主机名转换为该主机的IP地址

  ​					   4）本地域名：

- 域名解析：域名和ip地址之间的相互转换

  1）递归查询：各级域名服务器只递归地查询一次，并依次返回

  2）递归&迭代查询：①主机与本地域名服务器之间采用**递归查询**：本地域名服务器**无法解析**时，代替主机									向根域名服务器进行查询

  ​									②本地域名服务器与根域名服务器之间采用迭代查询：每一级域名服务器要么给出ip地址，要么给出下一级域名服务器的ip地址；**本地域名服务器**需要发出**多次**请求

  **注：要看清域名，可能会有多个二级、三级域名，就需要多次查询权限域名服务器**

## 文件传输协议FTP

- C/S模式，基于TCP

- **服务器端**有两个并行TCP连接：控制端：21；数据端：20

  控制连接传输控制信息，整个会话期间一直open

  



## 电子邮件

- 组成：

  用户代理，

  邮件服务器

  发送和读取协议：SMTP（发），POP3（读）

- SMTP：基于TCP，port：25，用户向代理服务器发送时

- POP：基于TCP，port：110，代理服务器向用户

- 邮件格式：SMTP只能传送一定长度的ASCII码邮件；其它类型需要进行转换



## 万维网



### HTTP：

- 规定浏览器如何向万维网请求以及向其发送

- 基于TCP，port:80. HTTP本身无连接

- HTTP请求报文：connection:  close表示非持续连接；keep-alive表示持续连接

  ​							host：表示请求对象所在的主机域名

- cookie：用户浏览某个网站时，服务器为其生成一个唯一的识别码，并在响应报文中添加cookie；当用户继续浏览网站时，请求报文中会带上cookie识别码，服务器就能根据识别码在数据库找到用户对应的活动记录，进行个性化推荐

  cookie有识别码时，说明用户浏览过该网站

![image-20221212202631186](C:\Users\gjys\AppData\Roaming\Typora\typora-user-images\image-20221212202631186.png)