# 总线

## 总线分类

### 1.片内总线

### 2.系统总线

- 数据总线：双向传输

- 地址总线：单向传输

- 控制总线：传输控制信号

### 3.I/O总线

IO设备——（IO总线）——IO接口——（系统总线）——CPU

串行、并行？

PCI-Express:

- 第三代IO总线
- 串行传输



## 总线结构

- 单总线：CPU、存储器、外围设备都挂在一个总线上，一个周期只能传送一个数据
- 双总线：CPU、MM挂在主存总线上；通道连接主存总线和IO总线
- 三总线：CPU和MM之间主存总线；CPU和IO设备IO总线；IO接口和主存间DMA总线



## 性能标准

**1.总线带宽**

总线带宽=总线工作频率*（总线宽度/8），注意计算带宽时，地址和数据总线复用是**干扰因素**

**2.总线复用**：一种信号线（**地址or数据**）在不同时间传输不同的信息。但是数据传输率并不改变

**分离事务通信**也属于一种复用

能提高总线的利用率

**3.总线周期：**包括总线申请、寻址、传输和结束阶段



## 总线事务

- 总线事务：请求，仲裁，寻址，传输，释放

- **突发传送**：连续传送数据，一个总线时钟周期可以传送一个字长的数据，一组数据传送完后再释放总线

在相同的时间里，能传送更多的数据，因此也提高了总线的数据传输率



## 总线通信

**1.同步通信**

系统指定统一时钟

**2.异步通信：**一次握手完成一次数据交换

不互锁：只有主设备的请求

半互锁：请求+应答

全互锁：请求+应答+应答

**异步串行**：一个数据帧包括1个起始位，数据位，1个奇校验位，1个结束位

**3.同步、异步结合（半同步）**

采用**统一的时钟信号**判断请求和应答信号



## 提高总线传输效率



